import { LoginForm } from '../../examples/login/version_1';

# Get Started

## Create your State Definition

Lets take the classic login form, with a username and password.

```javascript

const login = new Leaf({
    username: '',
    password: '',
    status: 'entering',
  },
  {
    selectors: {
        isReady({ username, password }) {
        return !!(password && username);
      },
    },
    actions: {
      reset(leaf)  {
        leaf.do.setUsername('');
        leaf.do.setPassword('');
        leaf.do.setStatus('entering');.
      },
    }
  }
)

```

Using react bindings, we add this into the state of a form:

```jsx
import {Leaf} from '@wonderlandlabs/forest';
import { useEffect, useState } from 'react'

export const LoginForm = () => {
  const [state, setState] = useState(false);
  const [login, setLogin] = useState(null);
  useEffect(() => {

    const login = new Leaf(....);

    const sub = login.subscribe(setState);
    setLogin(login);

    return () => {
      sub.unsubscribe();
    }
  }, []);

  if (!(state && login)) return '';

  return <>
   <div className="login-box">
    <div className="flex-item">
      <h2>Username</h2>
      <input type="text" value={state.username}
        onChange={(event) => {
        login.do.setUsername(event.target.value);}} />
      <h2>Password</h2>
      <input type="text" value={state.password}
        onChange={(event) => {
          login.do.setPassword(event.target.value)
        }} />
    </div>
     <div className="flex-item">
       <button type="submit" disabled={!state.$isReady}>Log In</button>
       <button type="reset" onClick={login.do.reset}>Reset</button>
     </div>
  </div>
     <pre>
       {JSON.stringify(state, true, 3)}
     </pre>
     </>
}


```


This we will wrap with local state into a React form:

<LoginForm />

## Some detail of what is going on here

The first argument to new Leaf is the value. It can be an object, or a Map, or a single value
of any type you wish.

There are two types of actions in Leaf instances. One is automatic --
Objects and Maps will automatically generate setters for the properties they have at creation.
The other one is manual; the configuration (second) parameter has actions that we can use
to update the action in more detail. You can call other actions from inside actions, as we
do here, in the reset action, that clears all the